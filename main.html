<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>游戏预测</title>
    <link rel="stylesheet" href="css/main.css">
    <script src="https://unpkg.com/vue@3"></script>
    <script src="js/dealWith.js"></script>
</head>

<body>
<div id="app">
    <p>近10次数字: {{numbers.join(" ")}}</p>
    <label>
        <input type="text" @input="validateInput" placeholder="请输入中奖数">
    </label>
    <div class="submitForm">
        <!--        <button @click="numbers[numbers.length]=''">下一个</button>-->
        <!--        <button @click="submitForm">提交</button>-->
    </div>
    <table>
        <tr v-for="row in 2" :key="row">
            <td :class="bgC[(row - 1) * 5 + col-1]" v-for="col in 5" :key="col">
                {{(row - 1) * 5 + col-1}}
            </td>
        </tr>
    </table>
    <p>触发规则:</p>
    <p v-for="msg in msg_" :key="msg">{{msg}}</p>
<!--    <p >{{msg_}}</p>-->

    <!--    <table>-->
    <!--        <tr>-->
    <!--            <td>数字</td>-->
    <!--            <td>次数</td>-->
    <!--            <td>未出现次数</td>-->
    <!--        </tr>-->
    <!--        <tr v-for="i in 10" :key="i">-->
    <!--            <th>{{i - 1}}</th>-->
    <!--            <th>{{counts[i - 1]}}</th>-->
    <!--            <th>{{notAppearedCount[i - 1]}}</th>-->
    <!--        </tr>-->
    <!--    </table>-->
</div>

<script>
    const app = Vue.createApp({
        data() {
            const storedNumbers = localStorage.getItem('numbers');
            return {
                numbers: storedNumbers ? JSON.parse(storedNumbers) : new Array(15).fill(''),
                counts: new Array(10).fill(0),
                notAppearedCount: new Array(10).fill(15),
                bgC: new Array(10).fill(''),
                msg_: [],
            }
        },
        methods: {
            validateInput(event) {
                const inputValue = event.target.value.split('');
                this.numbers = inputValue.slice(-10)

                console.log(this.numbers);

                dealWith(this.numbers, this.bgC, this.msg_)

            },
        }
    });

    app.mount('#app');
</script>
</body>

</html>